# Configuration for Adaptive Question Generation Tool

# LLM Configuration
llm:
  provider: "ollama"  # Options: "ollama" (local), "openai" (cloud), "gemini" (Google)
  model: "llama3.2"   # For Ollama: "llama3.2" or "gemma3:1b". For OpenAI: "gpt-4" or "gpt-3.5-turbo". For Gemini: "gemini-1.5-flash"
  api_key_env: "OPENAI_API_KEY"  # Only needed for OpenAI provider
  temperature: 0.7
  max_tokens: 2000
  retry_attempts: 3
  retry_delay: 2  # seconds
  
  # Fallback Configuration (tries in order if primary fails)
  fallback_enabled: true
  fallback_providers:
    - provider: "gemini"
      model: "gemini-2.5-flash"
      api_key_env: "GEMINI_API_KEY"
    - provider: "openai"
      model: "gpt-3.5-turbo"
      api_key_env: "OPENAI_API_KEY"

# Question Generation Limits
question_limits:
  beginner:
    min: 3
    max: 5
    default: 4
  intermediate:
    min: 3
    max: 4
    default: 3
  advanced:
    min: 2
    max: 3
    default: 2

# Progression Thresholds
progression:
  beginner_to_intermediate: 3  # Number of correct answers needed
  intermediate_to_advanced: 3
  max_attempts_per_concept: 10

# Supported Programming Languages
programming_languages:
  - python
  - java
  - cpp
  - javascript

# Course Categories
course_categories:
  - programming
  - non-programming

# Learning Resources
learning_resources:
  programming:
    python:
      - name: "Python Official Documentation"
        url: "https://docs.python.org/3/"
      - name: "Real Python Tutorials"
        url: "https://realpython.com/"
      - name: "Python Exercises on HackerRank"
        url: "https://www.hackerrank.com/domains/python"
      - name: "LeetCode Python Problems"
        url: "https://leetcode.com/problemset/all/?difficulty=EASY&page=1&topicSlugs=python"
    java:
      - name: "Java Official Documentation"
        url: "https://docs.oracle.com/en/java/"
      - name: "Java Tutorial - W3Schools"
        url: "https://www.w3schools.com/java/"
      - name: "Java Exercises on HackerRank"
        url: "https://www.hackerrank.com/domains/java"
      - name: "Codecademy Java Course"
        url: "https://www.codecademy.com/learn/learn-java"
    cpp:
      - name: "C++ Reference"
        url: "https://en.cppreference.com/"
      - name: "Learn C++ - LearnCpp.com"
        url: "https://www.learncpp.com/"
      - name: "C++ on HackerRank"
        url: "https://www.hackerrank.com/domains/cpp"
      - name: "GeeksforGeeks C++ Programs"
        url: "https://www.geeksforgeeks.org/c-plus-plus/"
    javascript:
      - name: "MDN Web Docs - JavaScript"
        url: "https://developer.mozilla.org/en-US/docs/Web/JavaScript"
      - name: "JavaScript.info"
        url: "https://javascript.info/"
      - name: "JavaScript Algorithms on HackerRank"
        url: "https://www.hackerrank.com/domains/algorithms"
      - name: "freeCodeCamp JavaScript"
        url: "https://www.freecodecamp.org/learn/javascript-algorithms-and-data-structures/"
  non-programming:
    general:
      - name: "Khan Academy"
        url: "https://www.khanacademy.org/"
      - name: "Coursera Free Courses"
        url: "https://www.coursera.org/courses?query=free"
      - name: "MIT OpenCourseWare"
        url: "https://ocw.mit.edu/"
      - name: "edX Free Courses"
        url: "https://www.edx.org/search?q=free"

# Output Configuration
output:
  default_filename: "generated_questions.json"
  indent: 2
  include_metadata: true

# Activity Analysis Configuration
activity_analysis:
  # Response Selection
  top_responses_per_question: 10  # Fixed: Select top 10 best responses per question
  
  # Keyword Extraction Configuration
  keyword_extraction:
    max_keywords: 50  # Top N keywords to extract from activity
    use_bigrams: true  # Include 2-word phrases (e.g., "newton laws", "rocket propulsion")
    min_keyword_score: 0.01  # Minimum TF-IDF score to include keyword
  
  # Thematic Clustering Configuration
  thematic_clustering:
    n_themes: 5  # Number of themes to discover via clustering
    ensure_diversity: true  # Spread top selections across different themes
    min_cluster_representation: 1  # At least 1 response per major theme in top 10
  
  # Scoring Weights (must sum to â‰¤ 1.0)
  scoring_weights:
    keyword_match: 0.4  # Weight for activity keyword overlap (40%)
    llm_quality: 0.4    # Weight for LLM-assessed quality (40%)
    theme_diversity: 0.2  # Weight/bonus for representing unique themes (20%)
  
  # LLM Quality Assessment Prompts
  quality_prompts:
    q1_quality: |
      Rate this learning summary (0-100) based on:
      1. Completeness: Does it cover 3 distinct learnings?
      2. Depth: Are the learnings substantive or superficial?
      3. Relevance: Do they relate to the activity objectives?
      
      Activity: {activity_description}
      Student Response: {response}
      
      Output JSON: {{"score": 85, "reasoning": "Clear, detailed summary covering 3 distinct concepts with good depth"}}
    
    q2_quality: |
      Rate this student question (0-100) based on:
      1. Clarity: Is it well-formed and understandable?
      2. Relevance: Does it directly relate to the instructional material?
      3. Depth: Does it show critical thinking beyond basic recall?
      
      Activity: {activity_description}
      Student Question: {response}
      
      Output JSON: {{"score": 90, "reasoning": "Thoughtful question showing deep understanding and curiosity"}}
    
    q3_quality: |
      Rate this response (0-100) based on:
      1. Specificity: Is the interest clearly and specifically defined?
      2. Enthusiasm: Does it show genuine curiosity and excitement?
      3. Exploration Intent: Is there a clear direction for further learning?
      
      Activity: {activity_description}
      Student Response: {response}
      
      Output JSON: {{"score": 75, "reasoning": "Shows specific interest with clear exploration direction"}}

